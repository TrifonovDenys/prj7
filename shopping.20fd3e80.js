!function(){function t(t,e,n,o){Object.defineProperty(t,e,{get:n,set:o,enumerable:!0,configurable:!0})}function e(t){return t&&t.__esModule?t.default:t}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},r={},a=n.parcelRequired7c6;null==a&&((a=function(t){if(t in o)return o[t].exports;if(t in r){var e=r[t];delete r[t];var n={id:t,exports:{}};return o[t]=n,e.call(n.exports,n,n.exports),n.exports}var a=Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(t,e){r[t]=e},n.parcelRequired7c6=a),a.register("iE7OH",function(e,n){"use strict";t(e.exports,"register",function(){return o},function(t){return o=t}),t(e.exports,"resolve",function(){return r},function(t){return r=t});var o,r,a={};o=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)a[e[n]]=t[e[n]]},r=function(t){var e=a[t];if(null==e)throw Error("Could not resolve bundle with id "+t);return e}}),a.register("aNJCr",function(e,n){t(e.exports,"getBundleURL",function(){return o},function(t){return o=t});"use strict";var o,r={};o=function(t){var e=r[t];return e||(e=function(){try{throw Error()}catch(e){var t=(""+e.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(t)return(""+t[2]).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}return"/"}(),r[t]=e),e}}),a("iE7OH").register(JSON.parse('{"7ttGv":"shopping.20fd3e80.js","3BgtL":"image1.586f8e53.png","HSL4s":"image2.652b354e.png","7HQ06":"image3.2cbe462c.png","kWSUj":"iconRemove.2e13b02b.png","lpllV":"shopping.e36c5da7.css","ekEdc":"index.57c3deeb.js","3j6Ks":"index.b4f971d9.js"}'));var c=a("i7mVp"),i=a("4tSb9");a("xpKCW"),a("cs7FV"),a("aah0R");var l=a("ccCAN"),s={modalContent:document.querySelector(".modal-content"),overlay:document.querySelector("#overlay-modal"),closeButton:document.querySelector(".js-modal-close"),modal:document.querySelector(".modal"),supportBlock:document.querySelector(".support-block"),articlesContainer:document.querySelector(".shopping-list"),descriptionBlock:document.querySelector(".shopping-description-block"),deleteBtn:document.querySelector(".delete-button"),shoppingItem:document.querySelector(".shopping-item"),cardRemoveBtn:document.querySelector(".add-book-button")},u=function(t){var e=m().filter(function(e){return e._id!==t});localStorage.setItem("bookCard",JSON.stringify(e))},d={};d=a("aNJCr").getBundleURL("7ttGv")+a("iE7OH").resolve("3BgtL");var p={};p=a("aNJCr").getBundleURL("7ttGv")+a("iE7OH").resolve("HSL4s");var g={};g=a("aNJCr").getBundleURL("7ttGv")+a("iE7OH").resolve("7HQ06");var f={};f=a("aNJCr").getBundleURL("7ttGv")+a("iE7OH").resolve("kWSUj");var m=function(){return JSON.parse(localStorage.getItem("bookCard"))};function v(){var t=m();t.length>0&&s.descriptionBlock.classList.add("visually-hidden"),b(t)}var b=function(t){s.articlesContainer.innerHTML=t.map(function(t){var n=t._id,o=t.book_image,r=t.title,a=t.list_name,c=t.description,i=t.author;return'\n            <li id="'.concat(n,'" data-id="').concat(n,'" class="shopping-item">\n                <div class="shopping-card-thumb">\n                    <img src="').concat(o,'" alt="" class="book-img">\n                </div>\n                <div class="shopping-card-content">\n                    <h2 class="book-title">').concat(r,'</h2>\n                    <p class="book-category">').concat(a,'</p>\n                    <p class="book-description cut-text">').concat(c,'</p>\n                    <p class="book-author">').concat(i,'</p>\n                    <ul class="buy-links-list list">\n                        <li class="buy-links-item">\n                            <a target="_blank" href="https://goto.applebooks.apple/9781250144058?at=10lIEQ" class="buy-link">\n                                <img src="').concat(e(d),'" alt="">\n                            </a>\n                        </li>\n                        <li class="buy-links-item">\n                            <a target="_blank" href="https://goto.applebooks.apple/9781250144058?at=10lIEQ" class="buy-link">\n                                <img src="').concat(e(p),'" alt="">\n                            </a>\n                        </li>\n                        <li class="buy-links-item">\n                            <a target="_blank" href="https://goto.applebooks.apple/9781250144058?at=10lIEQ" class="buy-link">\n                                <img src="').concat(e(g),'" alt="">\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n                <button btn-close-id="').concat(n,'" class="delete-button" type="button">\n                    <img btn-close-id="').concat(n,'" class="remove-card-img" src="').concat(e(f),'" alt="">\n                </button>\n            </li>\n        ')}).join("")};function h(t){"Escape"===t.key&&(k(),document.removeEventListener("keydown",h))}function k(){s.modal.classList.toggle("active"),s.overlay.classList.toggle("active"),s.overlay.classList.toggle("js-modal-close")}function y(){return(y=(0,c._)(function(t){var e,n;return(0,i.__generator)(this,function(o){return e=t.target.getAttribute("btn-close-id"),n=t.target.closest("li").dataset.id,u(e),t.target.closest("li")&&!t.target.closest("button")&&(0,l.marckModal)(n).then(function(t){s.modalContent.innerHTML=t,s.cardRemoveBtn.setAttribute("data-id",n),s.modal.classList.toggle("active"),s.overlay.classList.toggle("active"),document.addEventListener("keydown",h),s.cardRemoveBtn.textContent="remove from the shopping list"}),t.target.closest("button")&&(t.target.parentNode.remove(),v()),[2]})})).apply(this,arguments)}s.cardRemoveBtn.addEventListener("click",function(t){var e=s.cardRemoveBtn.getAttribute("data-id");document.getElementById("".concat(e)).remove(),u(e),v(),k()}),s.closeButton.addEventListener("click",function(){k()}),s.overlay.addEventListener("click",function(t){t.currentTarget===t.target&&k()}),v(),s.articlesContainer.addEventListener("click",function(t){return y.apply(this,arguments)})}();
//# sourceMappingURL=shopping.20fd3e80.js.map
